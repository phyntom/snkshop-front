{"ast":null,"code":"var _jsxFileName = \"/Users/aimable/WebstormProjects/sneakershop/snkshop-frontend/src/pages/ProductPage.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport { StoreContext } from '../context/StoreContext';\nimport { CartContext } from '../context/CartContext';\n\nconst ProductPage = props => {\n  const {\n    id\n  } = props.match.params;\n  const [product, setProduct] = useState({});\n  const [qty, setQty] = useState(1);\n  const [size, setSize] = useState('');\n  const {\n    fetchProductById\n  } = useContext(StoreContext);\n  const {\n    addProduct\n  } = useContext(CartContext);\n\n  const fetchSelectedProduct = () => {\n    const selectedProduct = fetchProductById(id);\n    setProduct(selectedProduct);\n  };\n\n  const handleSelectSize = selectedSize => {\n    const sizeQty = product.variants.filter(item => item.size === selectedSize);\n    setSize(selectedSize);\n    if (sizeQty.length > 0) setQty(sizeQty[0].quantity);\n  };\n\n  useEffect(fetchSelectedProduct, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-dark my-3\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 10\n    }\n  }, \"Go Back\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: product.image,\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 22\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 22\n    }\n  }, \"Brand: \", product.brand)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    value: product.rating,\n    text: `${product.numReviews} reviews`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }\n  }, \"Price: $\", product.price), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 22\n    }\n  }, \"Description:\"), ' ', /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-lighter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 22\n    }\n  }, product.description)))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 28\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 31\n    }\n  }, \"$\", product.price)))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 28\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 31\n    }\n  }, product.countInStock > 0 ? 'In Stock' : 'Out of Stock')))), product.countInStock > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 34\n    }\n  }, \"Size\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: size,\n    onChange: e => handleSelectSize(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  }, product.variants.map((item, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: item._id,\n    value: item.size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 43\n    }\n  }, item.size)))))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 34\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: qty,\n    onChange: e => setQty(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, [...Array(product.countInStock).keys()].map((item, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index + 1,\n    value: index + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 46\n    }\n  }, index + 1))))))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-block\",\n    type: \"button\",\n    disabled: product.countInStock === 0,\n    onClick: () => addProduct(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Add to Cart\")))))));\n};\n\nexport default ProductPage;","map":{"version":3,"sources":["/Users/aimable/WebstormProjects/sneakershop/snkshop-frontend/src/pages/ProductPage.js"],"names":["React","useState","useEffect","useContext","Link","Row","Col","Image","ListGroup","Card","Button","Form","Rating","StoreContext","CartContext","ProductPage","props","id","match","params","product","setProduct","qty","setQty","size","setSize","fetchProductById","addProduct","fetchSelectedProduct","selectedProduct","handleSelectSize","selectedSize","sizeQty","variants","filter","item","length","quantity","image","name","brand","rating","numReviews","price","description","countInStock","e","target","value","map","index","_id","Array","keys"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport { StoreContext } from '../context/StoreContext';\nimport { CartContext } from '../context/CartContext';\n\nconst ProductPage = (props) => {\n   const { id } = props.match.params;\n   const [product, setProduct] = useState({});\n   const [qty, setQty] = useState(1);\n   const [size, setSize] = useState('');\n   const { fetchProductById } = useContext(StoreContext);\n   const { addProduct } = useContext(CartContext);\n\n   const fetchSelectedProduct = () => {\n      const selectedProduct = fetchProductById(id);\n      setProduct(selectedProduct);\n   };\n\n   const handleSelectSize = (selectedSize) => {\n      const sizeQty = product.variants.filter((item) => item.size === selectedSize);\n      setSize(selectedSize);\n      if (sizeQty.length > 0) setQty(sizeQty[0].quantity);\n   };\n\n   useEffect(fetchSelectedProduct, []);\n\n   return (\n      <>\n         <Link className='btn btn-dark my-3' to='/'>\n            Go Back\n         </Link>\n         <Row>\n            <Col md={6}>\n               <Image src={product.image} fluid />\n            </Col>\n            <Col md={3}>\n               <ListGroup variant='flush'>\n                  <ListGroup.Item>\n                     <span className='lead'>{product.name}</span>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                     <span className='h4'>Brand: {product.brand}</span>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                     <Rating value={product.rating} text={`${product.numReviews} reviews`} />\n                  </ListGroup.Item>\n                  <ListGroup.Item className='h5'>Price: ${product.price}</ListGroup.Item>\n                  <ListGroup.Item>\n                     <span className='h5'>Description:</span>{' '}\n                     <span className='font-weight-lighter'>{product.description}</span>\n                  </ListGroup.Item>\n               </ListGroup>\n            </Col>\n            <Col md={3}>\n               <Card>\n                  <ListGroup variant='flush'>\n                     <ListGroup.Item>\n                        <Row>\n                           <Col>Price</Col>\n                           <Col>\n                              <strong>${product.price}</strong>\n                           </Col>\n                        </Row>\n                     </ListGroup.Item>\n                     <ListGroup.Item>\n                        <Row>\n                           <Col>Status</Col>\n                           <Col>\n                              <strong>\n                                 {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\n                              </strong>\n                           </Col>\n                        </Row>\n                     </ListGroup.Item>\n                     {product.countInStock > 0 && (\n                        <>\n                           <ListGroup.Item>\n                              <Row>\n                                 <Col>Size</Col>\n                                 <Col>\n                                    <Form.Control\n                                       as='select'\n                                       value={size}\n                                       onChange={(e) => handleSelectSize(e.target.value)}\n                                    >\n                                       {product.variants.map((item, index) => (\n                                          <option key={item._id} value={item.size}>\n                                             {item.size}\n                                          </option>\n                                       ))}\n                                    </Form.Control>\n                                 </Col>\n                              </Row>\n                           </ListGroup.Item>\n                           <ListGroup.Item>\n                              <Row>\n                                 <Col>Qty</Col>\n                                 <Col>\n                                    <Form.Control\n                                       as='select'\n                                       value={qty}\n                                       onChange={(e) => setQty(e.target.value)}\n                                    >\n                                       {[...Array(product.countInStock).keys()].map(\n                                          (item, index) => (\n                                             <option key={index + 1} value={index + 1}>\n                                                {index + 1}\n                                             </option>\n                                          )\n                                       )}\n                                    </Form.Control>\n                                 </Col>\n                              </Row>\n                           </ListGroup.Item>\n                        </>\n                     )}\n                     <ListGroup.Item>\n                        <Button\n                           className='btn-block'\n                           type='button'\n                           disabled={product.countInStock === 0}\n                           onClick={() => addProduct(product)}\n                        >\n                           Add to Cart\n                        </Button>\n                     </ListGroup.Item>\n                  </ListGroup>\n               </Card>\n            </Col>\n         </Row>\n      </>\n   );\n};\n\nexport default ProductPage;\n"]},"metadata":{},"sourceType":"module"}