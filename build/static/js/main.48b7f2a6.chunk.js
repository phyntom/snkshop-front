(this["webpackJsonpsnkshop-frontend"]=this["webpackJsonpsnkshop-frontend"]||[]).push([[0],{128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(35),c=t.n(l),o=t(13),s=t(137),u=t(138),m=t(84),i=function(){return r.a.createElement("footer",null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"text-center py-3"},"\xa9 2020 Sneaker City. All right reserved."))))},p=t(23),d=t(146),E=t(139),f=t(142),h=t(6),v=t(33),g=t(19),b=function(e,a){localStorage.setItem("".concat(e),JSON.stringify(a))},y=function(e,a){switch(a.type){case"INCREASE":var t=e.cartItems.findIndex((function(e){return e._id===a.payload._id&&e.size===a.payload.size}));return e.cartItems[t].quantity++,Object(v.a)({},e,{cartItems:Object(g.a)(e.cartItems)},O(e.cartItems));case"DECREASE":var n=e.cartItems.findIndex((function(e){return e._id===a.payload._id&&e.size===a.payload.size}));return 1===e.cartItems[n].quantity?e.cartItems.splice(n,1):e.cartItems[n].quantity--,Object(v.a)({},e,{cartItems:Object(g.a)(e.cartItems)},O(e.cartItems));case"ADD_PRODUCT":if(e.cartItems.find((function(e){return e._id===a.payload.currentProduct._id&&e.size===a.payload.size}))){var r=e.cartItems.findIndex((function(e){return e._id===a.payload.currentProduct._id}));e.cartItems[r].quantity++}else e.cartItems.push({_id:a.payload.currentProduct._id,image:a.payload.currentProduct.image,price:a.payload.currentProduct.price,name:a.payload.currentProduct.name,size:a.payload.size,quantity:a.payload.qty});return Object(v.a)({},e,{cartItems:Object(g.a)(e.cartItems)},O(e.cartItems));case"REMOVE_PRODUCT":var l=e.cartItems.findIndex((function(e){return e._id===a.payload._id&&e.size===a.payload.size}));return e.cartItems.splice(l,1),Object(v.a)({},e,{cartItems:Object(g.a)(e.cartItems)},O(e.cartItems));case"ADD_SHIPPING":var c=a.payload.shippingAddress;return b("shippingAddress",c),Object(v.a)({},e,{shippingAddress:c});default:return Object(v.a)({},e)}},O=function(e){return b("cart",e),{itemCount:e.reduce((function(e,a){return e+a.quantity}),0),total:e.reduce((function(e,a){return e+a.price*a.quantity}),0).toFixed(2)}},C=t(16),I=t.n(C),j=t(25),S=t(26),k=t.n(S),x=Object(n.createContext)(),N=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,w=function(e){var a=Object(n.useState)([]),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(N),s=Object(h.a)(o,2),u=s[0],m=s[1],i=function(){var e=Object(j.a)(I.a.mark((function e(){var a,t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("api/products");case 3:a=e.sent,t=a.data,c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),r.a.createElement(x.Provider,{value:{products:l,fetchProducts:i,fetchProductById:function(e){return l.find((function(a){return a._id===e}))},existUser:u,updateSavedUser:function(e){m(e),b("user",e)},removeSavedUser:function(e){var a;a="user",localStorage.removeItem("".concat(a)),m(null)}}},e.children)},P=Object(n.createContext)(),L=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],_=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},A=Object(v.a)({cartItems:L},O(L),{shippingAddress:_,checkout:!1}),U=function(e){var a=Object(n.useReducer)(y,A),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(n.useContext)(x).products;return r.a.createElement(P.Provider,{value:{increase:function(e){console.log(e),c({type:"INCREASE",payload:e})},decrease:function(e){c({type:"DECREASE",payload:e})},addProduct:function(e){c({type:"ADD_PRODUCT",payload:e})},removeProduct:function(e){c({type:"REMOVE_PRODUCT",payload:e})},state:l,productInCart:function(e){return o.find((function(a){return a._id===e}))},addShipping:function(e){c({type:"ADD_SHIPPING",payload:e})}}},e.children)},z=function(e){var a=Object(n.useContext)(P).state,t=Object(n.useContext)(x),l=t.existUser,c=t.removeSavedUser;return r.a.createElement("header",null,r.a.createElement(d.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(s.a,null,r.a.createElement(p.LinkContainer,{to:"/"},r.a.createElement(d.a.Brand,null,"Sneaker City")),r.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(d.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,{className:"mr-auto"},r.a.createElement(p.LinkContainer,{to:"/home"},r.a.createElement(E.a.Link,null,"All")),r.a.createElement(p.LinkContainer,{to:"/home?category=women"},r.a.createElement(E.a.Link,null,"Women")),r.a.createElement(p.LinkContainer,{to:"/home?category=men"},r.a.createElement(E.a.Link,null,"Men"))),r.a.createElement(E.a,{className:"ml-auto"},r.a.createElement(p.LinkContainer,{to:"/cart"},r.a.createElement(E.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart"}),a.itemCount," Cart")),l?r.a.createElement(f.a,{title:l.name,id:"username"},r.a.createElement(p.LinkContainer,{to:"/profile"},r.a.createElement(f.a.Item,null,"Profile")),r.a.createElement(f.a.Item,{onClick:function(){return c(l),void(window.location="/")}},"Logout")):r.a.createElement(p.LinkContainer,{to:"/login"},r.a.createElement(E.a.Link,null,r.a.createElement("i",{className:"fas fa-user"}),"Sign In")))))))},D=t(11),G=t(148),R=function(e){var a=e.value,t=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{className:a>=1?"fas fa-star":a>=.5?"fas fa-star-half-alt":"far fa-star",style:{color:n}})),r.a.createElement("span",null,r.a.createElement("i",{className:a>=2?"fas fa-star":a>=1.5?"fas fa-star-half-alt":"far fa-star",style:{color:n}})),r.a.createElement("span",null,r.a.createElement("i",{className:a>=3?"fas fa-star":a>=2.5?"fas fa-star-half-alt":"far fa-star",style:{color:n}})),r.a.createElement("span",null,r.a.createElement("i",{className:a>=4?"fas fa-star":a>=3.5?"fas fa-star-half-alt":"far fa-star",style:{color:n}})),r.a.createElement("span",null,r.a.createElement("i",{className:a>=5?"fas fa-star":a>=4.5?"fas fa-star-half-alt":"far fa-star",style:{color:n}})),r.a.createElement("span",{className:"px-1"},t.length>0&&t))};R.defaultProps={color:"#D48B19",value:0};var q=R,T=function(e){var a=e.product;return r.a.createElement(G.a,{className:"my-1 py-3 rounded"},r.a.createElement(o.Link,{to:"/product/".concat(a._id)},r.a.createElement(G.a.Img,{variant:"top product-img",src:"".concat(a.image)})),r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Title,{as:"div"},r.a.createElement(o.Link,{to:"/product/".concat(a._id)},r.a.createElement("p",{className:"font-weight-normal"},a.name))),r.a.createElement(G.a.Text,{as:"div"},r.a.createElement(q,{value:a.rating,text:"".concat(a.numReviews," reviews")})),r.a.createElement(G.a.Text,{as:"h3",className:"py-1"},"$",a.price)))},M=t(140),$=t(93),B=t(143),F=t(92),J=t.n(F),W=function(e){e.itemsCount;var a=e.pagesCount,t=(e.pageSize,e.currentPage),n=e.onPageChange;if(1===a)return null;var l=J.a.range(1,a+1);return console.log(l),r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},l.map((function(e){return r.a.createElement("li",{key:e,className:e===t?"page-item active":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(a){return n(e,a)}},Number(e)))}))))},H=function(e){var a=e.step1,t=e.step2,n=e.step3;return r.a.createElement(E.a,{className:"justify-content-center mb-4"},r.a.createElement(E.a.Item,null,a?r.a.createElement(p.LinkContainer,{to:"/login"},r.a.createElement(E.a.Link,null,"Sign In")):r.a.createElement(E.a.Link,{disabled:!0},"Sign In")),r.a.createElement(E.a.Item,null,t?r.a.createElement(p.LinkContainer,{to:"/shipping"},r.a.createElement(E.a.Link,null,"Shipping")):r.a.createElement(E.a.Link,{disabled:!0},"Shipping")),r.a.createElement(E.a.Item,null,n?r.a.createElement(p.LinkContainer,{to:"/createorder"},r.a.createElement(E.a.Link,null,"Create Order")):r.a.createElement(E.a.Link,{disabled:!0},"Create Order")))},V=function(e){var a=Object(n.useContext)(x).products,t=Object(n.useState)(""),l=Object(h.a)(t,2),c=l[0],o=l[1],s=Object(n.useState)(1),i=Object(h.a)(s,2),p=i[0],d=i[1],E=Object(n.useState)([]),f=Object(h.a)(E,2),v=f[0],b=f[1],y=Object(n.useState)(10),O=Object(h.a)(y,2),C=O[0],I=O[1],j=Object(n.useState)(0),S=Object(h.a)(j,2),k=S[0],N=S[1],w=e.location,P=w.search?w.search.split("=")[1]:"";Object(n.useEffect)((function(){!function(){var e=Object(g.a)(a);N(Math.ceil(a.length/10)),b(e.slice(0,10))}()}),[a]);return Object(n.useEffect)((function(e){var t=e,n=Object(g.a)(a),r=[];r=t?n.filter((function(e){return e.category.toUpperCase()===t.toUpperCase()})):Object(g.a)(a),N(Math.ceil(r.length/C)),r.length!==v.length&&b(r.slice(0,C))}),[P]),r.a.createElement("div",null,r.a.createElement("h3",null,"Latest Products - ",P),r.a.createElement(u.a,{className:"py-2"},r.a.createElement(m.a,{md:4},r.a.createElement(M.a,{className:"mb-2"},r.a.createElement(M.a.Prepend,null,r.a.createElement(M.a.Text,null,r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement($.a,{id:"inlineFormInputGroup",value:c,onChange:function(e){return function(e){var t=e;o(t);var n=Object(g.a)(a);P&&(n=n.filter((function(e){return e.category.toUpperCase()===P.toUpperCase()})));var r=n.filter((function(e){return e.name.toUpperCase().includes(t.toUpperCase())||e.brand.toUpperCase().includes(t.toUpperCase())||e.description.toUpperCase().includes(t.toUpperCase())||e.category.toUpperCase().includes(t.toUpperCase())||e.releaseDate.toUpperCase().includes(t.toUpperCase())}));N(Math.ceil(r.length/C)),b(r.slice(0,0+C))}(e.target.value)},placeholder:"Search"})))),r.a.createElement(u.a,null,v.map((function(e,a){return r.a.createElement(m.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(T,{product:e}))}))),r.a.createElement(u.a,{className:"my-4"},r.a.createElement(m.a,{md:2},r.a.createElement(B.a.Control,{as:"select",className:"select-pagination",value:C,onChange:function(e){return function(e){var t=Object(g.a)(a),n=(p-1)*e;I(e);var r=t.slice(n,n+e);N(Math.ceil(t.length/e)),b(r),console.log(r)}(Number(e.target.value))}},r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:15},"15"),r.a.createElement("option",{value:20},"20"),r.a.createElement("option",{value:25},"25"))),r.a.createElement(m.a,{md:6},r.a.createElement(W,{itemsCount:a.length,pagesCount:k,pageSize:C,currentPage:p,onPageChange:function(e){var t=Object(g.a)(a),n=(e-1)*C;d(e);var r=t.slice(n,n+C);b(r),console.log(n),console.log(n+C)}}))))},Y=(t(128),t(141)),Q=t(149),K=t(91),X=function(e){var a=e.match.params.id,t=Object(n.useState)({}),l=Object(h.a)(t,2),c=l[0],s=l[1],i=Object(n.useState)(1),p=Object(h.a)(i,2),d=p[0],E=p[1],f=Object(n.useState)(""),v=Object(h.a)(f,2),b=v[0],y=v[1],O=Object(n.useState)(1),C=Object(h.a)(O,2),S=C[0],x=C[1],N=Object(n.useContext)(P).addProduct;return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(I.a.mark((function e(){var t,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/products/".concat(a));case 2:t=e.sent,s(t.data),n=t.data.variants[0].size,r=t.data.variants[0].quantity,y(n),x(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Link,{className:"btn btn-dark my-3",to:"/home"},"Go Back"),r.a.createElement(u.a,null,r.a.createElement(m.a,{md:6},r.a.createElement(Y.a,{src:c.image,fluid:!0})),r.a.createElement(m.a,{md:3},r.a.createElement(Q.a,{variant:"flush"},r.a.createElement(Q.a.Item,null,r.a.createElement("span",{className:"lead"},c.name)),r.a.createElement(Q.a.Item,null,r.a.createElement("span",{className:"h4"},c.brand)),r.a.createElement(Q.a.Item,null,"Released -",r.a.createElement("span",null,new Date("".concat(c.releaseDate)).toLocaleDateString("sq-AL",{year:"numeric",month:"2-digit",day:"2-digit"}))),r.a.createElement(Q.a.Item,null,r.a.createElement(q,{value:c.rating,text:"".concat(c.numReviews," reviews")})),r.a.createElement(Q.a.Item,{className:"h5"},"Price: $",c.price),r.a.createElement(Q.a.Item,null,r.a.createElement("span",{className:"h5"},"Description:")," ",r.a.createElement("span",{className:"font-weight-lighter"},c.description)))),r.a.createElement(m.a,{md:3},r.a.createElement(G.a,null,r.a.createElement(Q.a,{variant:"flush"},r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Price"),r.a.createElement(m.a,null,r.a.createElement("strong",null,"$",c.price)))),r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Status"),r.a.createElement(m.a,null,r.a.createElement("strong",null,c.countInStock>0?"In Stock":"Out of Stock")))),c.countInStock>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Size"),r.a.createElement(m.a,null,r.a.createElement(B.a.Control,{as:"select",value:b,onChange:function(e){return function(e){var a=c.variants.find((function(a){return a.size===e}));y(e),a&&x(parseInt(a.quantity))}(e.target.value)}},c.variants.map((function(e,a){return r.a.createElement("option",{key:e._id,value:e.size},e.size)})))))),r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Qty"),r.a.createElement(m.a,null,r.a.createElement(B.a.Control,{as:"select",value:d,onChange:function(e){return E(parseInt(e.target.value))}},Object(g.a)(Array(S).keys()).map((function(e,a){return r.a.createElement("option",{key:a+1,value:a+1},a+1)}))))))),r.a.createElement(Q.a.Item,null,r.a.createElement(K.a,{className:"btn-block",type:"button",disabled:0===c.countInStock,onClick:function(){N({currentProduct:c,size:b,qty:d})}},"Add to Cart")))))))},Z=t(147),ee=function(e){var a=e.variant,t=e.children;return r.a.createElement(Z.a,{variant:a},t)};ee.defaultProps={variant:"info"};var ae=ee,te=function(e){var a=Object(n.useContext)(P),t=a.state,l=a.increase,c=a.decrease,s=a.removeProduct,i=t.cartItems,p=t.itemCount,d=t.total;return r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(m.a,{md:8},r.a.createElement("h3",null,"Shopping Cart"),r.a.createElement("hr",null),0===i.length?r.a.createElement(ae,null,"Your cart is empty ",r.a.createElement(o.Link,{to:"/"},"Go Back")):r.a.createElement(Q.a,{variant:"flush"},i.map((function(e,a){return r.a.createElement(Q.a.Item,{key:a},r.a.createElement(u.a,null,r.a.createElement(m.a,{md:2},r.a.createElement(Y.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(m.a,{md:2},r.a.createElement(o.Link,{to:"/product/".concat(e._id)},e.name)),r.a.createElement(m.a,{md:2},"$",e.price," x ",e.quantity),r.a.createElement(m.a,{md:2},e.size,'"'),r.a.createElement(m.a,{md:4},r.a.createElement(K.a,{type:"button",variant:"light",onClick:function(){return a=e._id,t=e.size,void l({_id:a,size:t});var a,t}},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(K.a,{type:"button",variant:"light",onClick:function(){return a=e._id,t=e.size,void c({_id:a,size:t});var a,t}},r.a.createElement("i",{className:"fas fa-minus"})),r.a.createElement(K.a,{type:"button",variant:"light",onClick:function(){return a=e._id,t=e.size,void s({_id:a,size:t});var a,t}},r.a.createElement("i",{className:"fas fa-trash"}))),r.a.createElement(m.a,{md:2})))})))),r.a.createElement(m.a,{md:4},r.a.createElement(G.a,null,r.a.createElement(Q.a,{variant:"flush"},r.a.createElement(Q.a.Item,null,r.a.createElement("h5",null,"Subtotal "),r.a.createElement("h6",null,"Items - ",p),r.a.createElement("h6",null,"$",d)),r.a.createElement(Q.a.Item,null,r.a.createElement(K.a,{type:"button",className:"btn-block",disabled:0===i.length,onClick:function(){return console.dir(e),void e.history.push("/login?redirect=shipping")}},"Checkout")))))))};function ne(e){var a=e.children;return r.a.createElement(s.a,null,r.a.createElement(u.a,{className:"justify-content-md-center"},r.a.createElement(m.a,{xs:12,md:6},a)))}var re=function(e){var a,t=Object(n.useState)(""),l=Object(h.a)(t,2),c=l[0],s=l[1],i=Object(n.useState)(""),p=Object(h.a)(i,2),d=p[0],E=p[1],f=Object(n.useState)(""),v=Object(h.a)(f,2),g=v[0],b=v[1],y=Object(n.useContext)(x).updateSavedUser,O=(a="user",JSON.parse(localStorage.getItem("".concat(a)))),C=e.location,S=e.history,N=C.search?C.search.split("=")[1]:"/";Object(n.useEffect)((function(){O&&S.push(N)}),[S,N,O]);var w=function(){var e=Object(j.a)(I.a.mark((function e(a){var t,n,r,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,t={headers:{"Content-Type":"application/json"}},e.next=5,k.a.post("api/users/login",{email:c,password:d},t);case 5:n=e.sent,r=n.data,y(r),S.push("/".concat(N)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,b(l);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{step1:!0}),r.a.createElement(ne,null,r.a.createElement("h3",{className:"my-5"},"Sign In"),g&&r.a.createElement(ae,{variant:"danger"},g),r.a.createElement(B.a,{onSubmit:w},r.a.createElement(B.a.Group,{controlId:"email"},r.a.createElement(B.a.Label,null,"Email Address"),r.a.createElement(B.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return s(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"password"},r.a.createElement(B.a.Label,null,"Password"),r.a.createElement(B.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return E(e.target.value)}})),r.a.createElement(K.a,{type:"submit",variant:"primary"},"Sign In"),r.a.createElement(u.a,{className:"py-3"},r.a.createElement(m.a,null,"New User ?"," ",r.a.createElement(o.Link,{to:N?"/register?redirect=".concat(N):"/register"},"Register"))))))},le=function(e){var a=Object(n.useState)(""),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),u=s[0],m=s[1],i=Object(n.useState)(""),p=Object(h.a)(i,2),d=p[0],E=p[1],f=Object(n.useState)(""),v=Object(h.a)(f,2),g=v[0],b=v[1],y=Object(n.useState)(""),O=Object(h.a)(y,2),C=O[0],S=O[1],N=Object(n.useContext)(x).updateSavedUser;console.log(e.location.search);var w=function(){var a=Object(j.a)(I.a.mark((function a(t){var n,r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),d&&""!==d){a.next=4;break}return S("Password cannot be empty"),a.abrupt("return");case 4:if(d===g){a.next=7;break}return S("Passwords do not match"),a.abrupt("return");case 7:return a.prev=7,a.next=10,k.a.post("/api/users",{name:l,email:u,password:d});case 10:n=a.sent,r=n.data,N(r),e.history.push("/cart"),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(7),console.error(a.t0.message),a.t0.response.data?S(a.t0.response.data.message):S(a.t0.message);case 20:case"end":return a.stop()}}),a,null,[[7,16]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(ne,null,r.a.createElement(B.a,{onSubmit:w},r.a.createElement("h3",{className:"my-5"},"Sign In"),C&&r.a.createElement(ae,{variant:"danger"},C),r.a.createElement(B.a.Group,{controlId:"name"},r.a.createElement(B.a.Label,null,"Full Name"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter name",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"email"},r.a.createElement(B.a.Label,null,"Email Address"),r.a.createElement(B.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"password"},r.a.createElement(B.a.Label,null,"Password"),r.a.createElement(B.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return E(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"confirm-password"},r.a.createElement(B.a.Label,null,"Confirm Password"),r.a.createElement(B.a.Control,{type:"password",placeholder:"Confirm password",value:g,onChange:function(e){return b(e.target.value)}})),r.a.createElement(K.a,{type:"submit",variant:"primary"},"Register")))},ce=function(e){var a=Object(n.useState)(""),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),i=s[0],p=s[1],d=Object(n.useState)(""),E=Object(h.a)(d,2),f=E[0],v=E[1],g=Object(n.useState)(""),b=Object(h.a)(g,2),y=b[0],O=b[1],C=Object(n.useState)(""),S=Object(h.a)(C,2),N=S[0],w=S[1],P=Object(n.useContext)(x),L=P.existUser,_=P.updateSavedUser;Object(n.useEffect)((function(){(function(){var e=Object(j.a)(I.a.mark((function e(){var a,t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"Bearer ".concat(L.token),"Content-Type":"application/json"}},e.next=4,k.a.patch("/api/users",{name:l,email:i,password:f},a);case 4:t=e.sent,n=t.data,c(n.name),p(n.email),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response.data?w(e.t0.response.data.message):w(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}));var A=function(){var e=Object(j.a)(I.a.mark((function e(a){var t,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,t={headers:{Authorization:"Bearer ".concat(L.token),"Content-Type":"application/json"}},e.next=5,k.a.patch("/api/users",{name:l,email:i,password:f},t);case 5:n=e.sent,r=n.data,_(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data?w(e.t0.response.data.message):w(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(u.a,null,r.a.createElement(m.a,{md:4},r.a.createElement(B.a,{onSubmit:A},r.a.createElement("h3",{className:"my-5"},"Sign In"),N&&r.a.createElement(ne,{variant:"danger"},N),r.a.createElement(B.a.Group,{controlId:"name"},r.a.createElement(B.a.Label,null,"Full Name"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter name",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"email"},r.a.createElement(B.a.Label,null,"Email Address"),r.a.createElement(B.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return p(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"password"},r.a.createElement(B.a.Label,null,"Password"),r.a.createElement(B.a.Control,{type:"password",placeholder:"Enter password",value:f,onChange:function(e){return v(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"confirm-password"},r.a.createElement(B.a.Label,null,"Confirm Password"),r.a.createElement(B.a.Control,{type:"password",placeholder:"Confirm password",value:y,onChange:function(e){return O(e.target.value)}})),r.a.createElement(K.a,{type:"submit",variant:"primary"},"Update"))),r.a.createElement(m.a,{md:8},r.a.createElement("h3",{className:"my-5"},"Orders")))},oe=function(e){return Object(n.useContext)(x).existUser?r.a.createElement(D.d,e):r.a.createElement(D.c,{to:"/login"})},se=function(e){var a=Object(n.useState)(""),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),u=s[0],m=s[1],i=Object(n.useState)(""),p=Object(h.a)(i,2),d=p[0],E=p[1],f=Object(n.useState)(""),v=Object(h.a)(f,2),g=v[0],b=v[1],y=Object(n.useState)(""),O=Object(h.a)(y,2),C=O[0],I=O[1],j=Object(n.useState)(""),S=Object(h.a)(j,2),k=S[0],x=S[1],N=Object(n.useContext)(P),w=N.addShipping,L=N.state.shippingAddress;console.log(),Object(n.useEffect)((function(){L&&(c(L.country),m(L.city),E(L.phoneNumber),I(L.email),b(L.address))}),[L]);var _=e.history;return r.a.createElement("div",null,r.a.createElement(H,{step1:!0,step2:!0}),r.a.createElement(ne,null,r.a.createElement("h3",{className:"my-5"},"Delivery Address"),k&&r.a.createElement(ae,{variant:"danger"},k),r.a.createElement(B.a,{onSubmit:function(e){(e.preventDefault(),l&&u&&C&&d&&g)?(w({shippingAddress:{country:l,city:u,email:C,phoneNumber:d,address:g}}),_.push("/createorder")):x("One or more empty field(s)")}},r.a.createElement(B.a.Group,{controlId:"countryId"},r.a.createElement(B.a.Label,null,"Country"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter your country",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"cityId"},r.a.createElement(B.a.Label,null,"City"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter your city",value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"emailId"},r.a.createElement(B.a.Label,null,"Email"),r.a.createElement(B.a.Control,{type:"email",placeholder:"Enter your email address",value:C,onChange:function(e){return I(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"phoneNumberId"},r.a.createElement(B.a.Label,null,"Phone number"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter your phone number",value:d,onChange:function(e){return E(e.target.value)}})),r.a.createElement(B.a.Group,{controlId:"addressId"},r.a.createElement(B.a.Label,null,"Address"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Enter your address",value:g,onChange:function(e){return b(e.target.value)}})),r.a.createElement(K.a,{type:"submit",variant:"primary"},"Next"))))},ue=(t(144),t(145),function(e){var a=Math.round(100*e)/100,t=Math.round(10*a)/10;return Math.round(t)}),me=function(e){var a=Object(n.useContext)(P).state,t=a.cartItems,l=a.shippingAddress,c=a.total,s=a.itemCount,i=Object(n.useState)(""),p=Object(h.a)(i,2),d=p[0];p[1];return a.shippingPrice=c>150?0:85,a.taxPrice=ue(Number(.15*c)),a.totalPayable=ue(Number(a.shippingPrice+a.taxPrice)+Number(c)),r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{step1:!0,step2:!0,step3:!0}),r.a.createElement(u.a,null,r.a.createElement(m.a,{md:8},r.a.createElement(Q.a,{variant:"flush"},r.a.createElement(Q.a.Item,null,r.a.createElement("h4",null,"Payment Method"),r.a.createElement(m.a,{md:5},r.a.createElement(B.a.Group,{controllId:"paymentMethodId"},r.a.createElement(B.a.Control,{as:"select",id:"paymentMethod",variant:"custom-select"},r.a.createElement("option",{value:"paypal",selected:!0},"PayPal or Credit Card"),r.a.createElement("option",{value:"stripe"},"Stripe"),r.a.createElement("option",{value:"paystack"},"Paystack"))))),r.a.createElement(Q.a.Item,null,r.a.createElement("h4",null,"Shipping Address"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),l.address,",",l.city,r.a.createElement("br",null),l.email,", ",l.country)),r.a.createElement(Q.a.Item,null,r.a.createElement("h4",null,"Order Items"),0===t.length?r.a.createElement(ae,null,"Your cart is empty"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{variant:"flush"},t.map((function(e,a){return r.a.createElement(Q.a.Item,{key:a},r.a.createElement(u.a,null,r.a.createElement(m.a,{md:1},r.a.createElement(Y.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(m.a,null,r.a.createElement(o.Link,{to:"/product/".concat(e._id)},e.name)),r.a.createElement(m.a,{md:1},e.size,'"'),r.a.createElement(m.a,{md:4},e.quantity," x $",e.price," = $",e.quantity*e.price)))}))))))),r.a.createElement(m.a,{md:4},r.a.createElement(G.a,null,r.a.createElement(Q.a,{variant:"flush"},r.a.createElement(Q.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Items(",s,")"),r.a.createElement(m.a,null,"$",c))),r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Shipping"),r.a.createElement(m.a,null,"$",a.shippingPrice))),r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Tax"),r.a.createElement(m.a,null,"$",a.taxPrice))),r.a.createElement(Q.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,"Total"),r.a.createElement(m.a,null,"$",a.totalPayable))),d&&r.a.createElement(Q.a.Item,null,r.a.createElement(ae,{variant:"danger"},d)),r.a.createElement(Q.a.Item,null,r.a.createElement(K.a,{type:"button",className:"btn-block",disabled:0===t},"Create Order")))))))},ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(U,null,r.a.createElement(z,null),r.a.createElement(s.a,null,r.a.createElement("main",{className:"py-3"},r.a.createElement(D.g,null,r.a.createElement(D.d,{path:"/",exact:!0,component:V}),r.a.createElement(D.d,{path:"/home",component:V}),r.a.createElement(D.d,{path:"/login",component:re}),r.a.createElement(oe,{path:"/profile",component:ce}),r.a.createElement(oe,{path:"/shipping",component:se}),r.a.createElement(oe,{path:"/createorder",component:me}),r.a.createElement(D.d,{path:"/register",component:le}),r.a.createElement(D.d,{path:"/product/:id",component:X}),r.a.createElement(D.d,{path:"/cart",component:te})))),r.a.createElement(i,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(129),t(130);c.a.render(r.a.createElement(o.BrowserRouter,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,a,t){e.exports=t(131)}},[[97,1,2]]]);
//# sourceMappingURL=main.48b7f2a6.chunk.js.map